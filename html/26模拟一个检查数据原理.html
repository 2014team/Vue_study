<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>模拟一个监测数据原理</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>

<body>
    <div id="root">
    </div>
</body>
<script type="text/javascript">
    let data = {
        name:'湖南大学',
        address:'湖南'
    }
    // 创建一个监测的实例对象，用于监测data中属性的变化
    const  obs = new Oberver(data);
    console.log(obs)

   // 准备一个vm实例对象
    let vm = {}

    vm._data =data = obs


    function Oberver(obj){
        // 汇总对象所有属性形成一个数组
      const keys = Object.keys(obj)



        keys.forEach((k)=>{
           Object.defineProperty(this,k,{
               get(){
                   return obj[k]
               },
               set(value){
                   console.log(`${k}被调用需要解析模拟`)
                   obj[k]= value
               },
           })
        })

    }



</script>
</html>